spring.application.name=bistro-template-backend

server.port=8443
server.ssl.enabled=true
server.ssl.key-store=classpath:keystore.p12
server.ssl.key-store-password=${SSL_PW}
server.ssl.key-store-type=PKCS12
server.ssl.key-alias=tomcat
server.ssl.protocol=TLS
server.ssl.enabled-protocols=TLSv1.2,TLSv1.3
server.ssl.ciphers=TLS_AES_256_GCM_SHA384,TLS_CHACHA20_POLY1305_SHA256,TLS_AES_128_GCM_SHA256,ECDHE-RSA-AES256-GCM-SHA384,ECDHE-RSA-AES128-GCM-SHA256

management.server.port=8080
management.server.ssl.enabled=false

spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
stripe.secretKey=${STRIPE_SECRET_KEY}
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${SPRING_MAIL_USERNAME}
spring.mail.password=${SPRING_MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# OpenAI API Configuration
openai.api.key=${OPENAI_API_KEY}
openai.api.organization=${OPENAI_ORGANIZATION_ID:}
openai.api.timeout=60000
openai.api.retry.max-attempts=3
openai.api.retry.delay=1000

# OpenAI Model Configuration
openai.models.whisper=whisper-1
openai.models.gpt=gpt-4
openai.models.tts=tts-1
openai.models.tts-voice=ash

# OpenAI Realtime API Configuration
openai.realtime.api-key=${OPENAI_API_KEY}
openai.realtime.base-url=wss://api.openai.com/v1/realtime
openai.realtime.model=gpt-4o-realtime-preview-2025-06-03
openai.realtime.voice=ash
openai.realtime.enable-vad=true
openai.realtime.vad-type=server_vad
openai.realtime.audio-sample-rate=24000
openai.realtime.audio-format=pcm16
openai.realtime.max-conversation-turns=50
openai.realtime.session-timeout-ms=1800000
openai.realtime.enable-transcription=true
openai.realtime.transcription-model=whisper-1

# Feature Flags
feature.realtime-voice.enabled=true
feature.realtime-voice.fallback-to-legacy=true

# WebSocket Configuration
spring.websocket.sockjs.enable=true
spring.websocket.sockjs.heartbeat-time=25000
spring.websocket.sockjs.disconnect-delay=5000

# Voice AI Configuration
voice.ai.max-audio-duration=300
voice.ai.supported-formats=wav,mp3,m4a,webm,mp4,mpeg,mpga,ogg,oga
voice.ai.max-file-size=25MB
voice.ai.temp-dir=${java.io.tmpdir}/voice-ai
voice.ai.cleanup-interval=3600000

# Voice Session Configuration
voice.session.timeout=1800000
voice.session.max-turns=50
voice.session.context-window=4000

# Rate Limiting Configuration
voice.rate-limit.requests-per-minute=30
voice.rate-limit.requests-per-hour=500
voice.rate-limit.audio-minutes-per-hour=60

# Caching Configuration
spring.cache.type=simple
spring.cache.cache-names=menu-cache,voice-context-cache,tts-cache

aws.cognito.userPoolId=${COGNITO_USER_POOL_ID}
aws.cognito.clientId=${COGNITO_CLIENT_ID}
aws.cognito.region=us-east-1

# Rewards Program Configuration
rewards.points.per.dollar=5
rewards.signup.bonus=100
rewards.birthday.bonus=50